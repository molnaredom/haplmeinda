name: ðŸš€ Deploy to haplmelinda.hu

on:
  push:
    branches:
      - master
    paths:
      - "introducing_page/**"
  workflow_dispatch: # KÃ©zi indÃ­tÃ¡s is lehetsÃ©ges

jobs:
  deploy:
    name: ðŸ“¦ FTP Deploy
    runs-on: ubuntu-latest

    steps:
      - name: ðŸ”„ Checkout repository
        uses: actions/checkout@v4

      - name: ï¿½ Install lftp
        run: sudo apt-get install -y lftp

      - name: ðŸ“¤ Deploy via FTP
        env:
          FTP_PASSWORD: ${{ secrets.FTP_PASSWORD }}
        run: |
          cd introducing_page
          lftp -c "
          set ftp:ssl-allow no;
          set mirror:use-pget-n 5;
          open -u c40067adam,$FTP_PASSWORD wh14.rackhost.hu;
          cd /public_html;
          mirror --reverse --delete --verbose --exclude .git/ --exclude node_modules/ --exclude netlify/ --exclude .md . .;
          quit;
          "

      - name: âœ… Deployment complete
        run: echo "ðŸŽ‰ Successfully deployed to haplmelinda.hu!"
